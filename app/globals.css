@tailwind base;
@tailwind components;
@tailwind utilities;

/* ====== Base colors and helpers ====== */
:root {
  --bg-start: #0b0b14;
  --bg-end:   #0e0b18;
  --card:     rgba(255,255,255,0.06);
  --border:   rgba(255,255,255,0.12);
  --accent:   #7C5CFF;
  --accent-hover: #9A86FF;
  --muted:    rgba(255,255,255,0.7);

  /* Размеры аватаров и колец */
  --avatar-xl: 300px;
  --ring-xl: 3px;
  --ring-xl-inner: 2px;

  --avatar-sm: 44px;
  --ring-sm: 2px;
  --ring-sm-inner: 1.5px;

  /* === Плавные градиенты рейтинга ===
     Полосы: зелёный → жёлтый → оранжевый → красный (широкий мягкий переход)
     Кольца: конусный градиент, шов сверху */
  --rating-gradient: linear-gradient(
    90deg,
    #22c55e 0%,
    #34d399 16%,
    #a3e635 28%,
    #eab308 50%,
    #f59e0b 66%,
    #fb923c 80%,
    #f97316 86%,
    #f87171 92%,
    #ef4444 100%
  );

  --rating-conic: conic-gradient(
    from 270deg,
    #22c55e 0deg,
    #34d399 90deg,
    #eab308 180deg,
    #fb923c 270deg,
    #ef4444 360deg
  );

  --ring-colors: var(--rating-conic);
}

/* Progressive enhancement: ещё более гладкий переход в OKLab, если поддерживается */
@supports (color: oklch(0 0 0)) {
  :root {
    --rating-gradient: linear-gradient(
      in oklab 90deg,
      oklch(0.82 0.17 145) 0%,
      oklch(0.82 0.16 120) 24%,
      oklch(0.82 0.15 100) 38%,
      oklch(0.80 0.15  90) 50%,
      oklch(0.77 0.16  60) 66%,
      oklch(0.72 0.20  40) 82%,
      oklch(0.66 0.23  25) 92%,
      oklch(0.62 0.24  25) 100%
    );
  }
}

html, body { height: 100%; }
body {
  color: white;
  background: linear-gradient(135deg, var(--bg-start), var(--bg-end));
}

/* карточки / инпуты / кнопки */
.card  { background: var(--card); border: 1px solid var(--border); border-radius: 1.25rem; }
.input { background: rgba(255,255,255,0.08); border: 1px solid var(--border); border-radius: 0.75rem; padding: 0.6rem 0.8rem; }
.btn   { border-radius: 0.9rem; padding: 0.6rem 1rem; }

/* ===== Полоса рейтинга =====
   Использование: <div class="rating-bar" style="--rating-fill: 62%"></div>
   где --rating-fill — процент заполнения (0..100). */
/* ===== Полоса рейтинга (универсальная) =====
   <div class="rating-bar" style="--rating-fill: 62%"></div> */
.rating-bar{
  position:relative;
  height:0.5rem;
  border-radius:9999px;
  background:#ffffff18;
  overflow:hidden;
}

/* фоновая радуга — на всю длину */
.rating-bar::before{
  content:"";
  position:absolute; inset:0;
  background:var(--rating-gradient);
}

/* мягкое «перо» после уровня: без ступеньки и без почернения */
.rating-bar::after{
  content:"";
  position:absolute; inset:0; pointer-events:none;
  background:
    linear-gradient(
      90deg,
      transparent 0,
      transparent calc(var(--rating-fill,50%) - 42px),
      rgba(18,18,26,.10) calc(var(--rating-fill,50%) - 24px),
      rgba(18,18,26,.18) calc(var(--rating-fill,50%) - 12px),
      rgba(18,18,26,.24) calc(var(--rating-fill,50%) - 6px),
      rgba(18,18,26,.30) var(--rating-fill,50%),
      rgba(18,18,26,.30) 100%
    );
  filter: blur(2px);
  transition: background .15s ease;
}


/* ===== Кольца вокруг аватаров ===== */

/* большой аватар */
.avatar-ring-xl       { background: var(--ring-colors); padding: var(--ring-xl); border-radius: 9999px; display: inline-grid; }
.avatar-ring-xl-inner { background: #0f0f15; padding: var(--ring-xl-inner); border-radius: 9999px; }
.avatar-xl            { width: var(--avatar-xl); height: var(--avatar-xl); border-radius: 9999px; object-fit: cover; background:#1a1a1f; border:2px solid #fff; }

/* маленький аватар */
.avatar-ring-sm       { background: var(--ring-colors); padding: var(--ring-sm); border-radius: 9999px; display: inline-grid; }
.avatar-ring-sm-inner { background: #0f0f15; padding: var(--ring-sm-inner); border-radius: 9999px; }
.avatar-sm            { width: var(--avatar-sm); height: var(--avatar-sm); border-radius: 9999px; object-fit: cover; background:#1a1a1f; border:2px solid #fff; }
